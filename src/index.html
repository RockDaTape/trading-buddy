<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="theme-color" content="#000000"/>

    <!-- PWA manifest -->
    <link rel="manifest" href="manifest.json"/>

    <!-- Global page styles -->
    <link rel="stylesheet" href="css/main.css"/>

    <title>Trading Buddy</title>
</head>
<body>
<main>
    <div id="counter-root"></div>
    <div id="text-field-root"></div>
</main>

<!-- Dynamic component loader -->
<script type="module">
    (async () => {
        async function loadComponent(name) {
            // 1) Fetch & inject HTML
            document
                .getElementById(`${name}-root`)
                .innerHTML = await fetch(`components/${name}/${name}.html`)
                .then(r => r.text());

            // 2) Inject CSS
            const link = document.createElement('link');
            link.rel  = 'stylesheet';
            link.href = `components/${name}/${name}.css`;
            document.head.appendChild(link);
        }

        // 3) Load counter HTML/CSS, then its JS initializer
        await loadComponent('counter');
        {
            const { default: initCounter } = await import(
                './components/counter/counter.js'
                );
            initCounter();
        }

        // 4) Load text‚Äêfield HTML/CSS, then its JS initializer
        await loadComponent('text-field');
        {
            const { default: initTextField } = await import(
                './components/text-field/text-field.js'
                );
            initTextField();
        }
    })();
</script>


</body>
</html>
